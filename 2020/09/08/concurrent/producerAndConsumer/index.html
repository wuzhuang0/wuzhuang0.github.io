
<!DOCTYPE html>
<html lang="zh-CN">
    <!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  
    <link rel="icon" href="/img/timg.jpeg">
  
  
      <meta name="author" content="wu zhuang">
  
  
      <meta name="subtitle" content="wuzhuang">
  
  
  
  
    <link rel="alternate" href="/atom.xml " title="æ€è€ƒ-æ€»ç»“" type="application/atom+xml">
  

  

  <title>ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ | æ€è€ƒ-æ€»ç»“</title>

  

  

  


  

  
    
      <link rel="stylesheet" href="/css/style.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css">
    
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.1.1/styles/github.css">
    

<meta name="generator" content="Hexo 4.2.1"></head>
</html>
    
<header class="header">
    <div class="title animated fadeInDown">
        
            <div class="logo">
                
                    <a href="/"><img data-src="/img/timg.jpeg" onerror=this.onerror=null,this.src="/img/loading.gif"></a>
                    
            </div>
         
    </div>
    <div class="navbar animated fadeInDown">
     
    
            <div class="social">
                
            </div>
     
   </div>
</header>



    
<div class="nav index" style="height: 60px;">
    <div class="title animated fadeInDown">
        <div class="layui-container">
            
                <div class="nav-title"><a href="/" title="æ€è€ƒ-æ€»ç»“">æ€è€ƒ-æ€»ç»“</a></div>
               
            <div class="nav-list">
                <button> <span class=""></span><span style="display: block;"></span><span class=""></span> </button>
                <ul class="layui-nav" lay-filter="">
                    
                    <li class="layui-nav-item">
                        <a href="/">
                            <i class="fab fa-fort-awesome"></i>
                            <span class="layui-nav-item-name">é¦–é¡µ</span>
                        </a>
                    </li>
                    
                    <li class="layui-nav-item">
                        <a href="/archives/">
                            <i class="fas fa-archive"></i>
                            <span class="layui-nav-item-name">å½’æ¡£</span>
                        </a>
                    </li>
                    
                    <li class="layui-nav-item">
                        <a href="/tags/">
                            <i class="fas fa-hashtag"></i>
                            <span class="layui-nav-item-name">æ ‡ç­¾</span>
                        </a>
                    </li>
                    
                    <li class="layui-nav-item">
                        <a href="/categories/">
                            <i class="far fa-folder-open"></i>
                            <span class="layui-nav-item-name">åˆ†ç±»</span>
                        </a>
                    </li>
                    
                    <li class="layui-nav-item">
                        <a href="/about/">
                            <i class="fab fa-grav"></i>
                            <span class="layui-nav-item-name">å…³äº</span>
                        </a>
                    </li>
                    
                    <li class="layui-nav-item">
                        <a href="/guestbook/">
                            <i class="fab fa-telegram"></i>
                            <span class="layui-nav-item-name">ç•™è¨€</span>
                        </a>
                    </li>
                    
                    <li class="layui-nav-item">
                        
                        <div id="dark" onclick="switchDarkMode()"></div>
                        <script>
                            if (localStorage.getItem('dark') === '1') {
                                document.body.classList.add('dark');
                            }
                            document.getElementById('dark').innerHTML = document.querySelector("body").classList.contains("dark") ? "ğŸŒ™" : "ğŸŒ";
                        </script>
                        
                    </li>
                    <span class="layui-nav-bar" style="left: 342px; top: 78px; width: 0px; opacity: 0;"></span>
                </ul>
            </div>
        </div>
    </div>
</div>

    
<article id="post">
  <div class="post-title">ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</div>
  
<div class="post-meta">
    
    
      <div class="post-meta-item date">
        <span title="å‘è¡¨äº 2020.09.08"><i class="far fa-calendar-alt"></i> 2020.09.08</span>
      </div>
      <div class="post-meta-item updated">
        <span title="æ›´æ–°äº 2020.09.08"><i class="far fa-calendar-check"></i> 2020.09.08</span>
      </div>
     
    
      <div class="post-meta-item categories">
        
          <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/%E5%B9%B6%E5%8F%91/">å¹¶å‘</a>
        
      </div>
     
    
     <div class="post-meta-item wordcount">
        
          <i class="fas fa-pencil-alt"></i> <span class="post-count">743 å­—</span>
           
        
          <i class="far fa-clock"></i> <span class="post-count">3 åˆ†é’Ÿ</span>
                               
      </div>
     
</div>


  
    <div id="toc" class="toc">
          <h1>ç›®å½•</h1>
          <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¸€ã€ç®€ä»‹"><span class="toc-number">1.</span> <span class="toc-text">ä¸€ã€ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#äºŒã€ç¤ºä¾‹"><span class="toc-number">2.</span> <span class="toc-text">äºŒã€ç¤ºä¾‹</span></a></li></ol>
      </div>
    
  <div class="content">
        <div><h3 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h3><p>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜æ˜¯çº¿ç¨‹æ¨¡å‹ä¸­çš„ç»å…¸é—®é¢˜ï¼šç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…åœ¨åŒä¸€æ—¶é—´æ®µå†…å…±ç”¨åŒä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œç”Ÿäº§è€…å¾€å­˜å‚¨ç©ºé—´ä¸­æ·»åŠ äº§å“ï¼Œæ¶ˆè´¹è€…ä»å­˜å‚¨ç©ºé—´ä¸­å–èµ°äº§å“ï¼Œå½“å­˜å‚¨ç©ºé—´ä¸ºç©ºæ—¶ï¼Œæ¶ˆè´¹è€…é˜»å¡ï¼Œå½“å­˜å‚¨ç©ºé—´æ»¡æ—¶ï¼Œç”Ÿäº§è€…é˜»å¡ã€‚</p>
<h3 id="äºŒã€ç¤ºä¾‹"><a href="#äºŒã€ç¤ºä¾‹" class="headerlink" title="äºŒã€ç¤ºä¾‹"></a>äºŒã€ç¤ºä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AbstractStorage</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">consume</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">produce</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.LinkedList;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> *  ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„é—®é¢˜</span><br><span class="hljs-comment"> *  waitã€notify/notifyAll() å®ç°</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Storage1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">AbstractStorage</span> </span>&#123;<br>    <span class="hljs-comment">//ä»“åº“æœ€å¤§å®¹é‡</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> MAX_SIZE = <span class="hljs-number">100</span>;<br>    <span class="hljs-comment">//ä»“åº“å­˜å‚¨çš„è½½ä½“</span><br>    <span class="hljs-keyword">private</span> LinkedList list = <span class="hljs-keyword">new</span> LinkedList();<br><br>    <span class="hljs-comment">//ç”Ÿäº§äº§å“</span><br>  	<span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">produce</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span>&#123;<br>        <span class="hljs-comment">//åŒæ­¥</span><br>        <span class="hljs-keyword">synchronized</span> (list)&#123;<br>            <span class="hljs-comment">//ä»“åº“å‰©ä½™çš„å®¹é‡ä¸è¶³ä»¥å­˜æ”¾å³å°†è¦ç”Ÿäº§çš„æ•°é‡ï¼Œæš‚åœç”Ÿäº§</span><br>            <span class="hljs-keyword">while</span>(list.size()+num &gt; MAX_SIZE)&#123;<br>                System.out.println(<span class="hljs-string">"ã€è¦ç”Ÿäº§çš„äº§å“æ•°é‡ã€‘:"</span> + num + <span class="hljs-string">"\tã€åº“å­˜é‡ã€‘:"</span><br>                        + list.size() + <span class="hljs-string">"\tæš‚æ—¶ä¸èƒ½æ‰§è¡Œç”Ÿäº§ä»»åŠ¡!"</span>);<br><br>                <span class="hljs-keyword">try</span> &#123;<br>                    <span class="hljs-comment">//æ¡ä»¶ä¸æ»¡è¶³ï¼Œç”Ÿäº§é˜»å¡</span><br>                    list.wait();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;num;i++)&#123;<br>                list.add(<span class="hljs-keyword">new</span> Object());<br>            &#125;<br><br>            System.out.println(<span class="hljs-string">"ã€å·²ç»ç”Ÿäº§äº§å“æ•°ã€‘:"</span> + num + <span class="hljs-string">"\tã€ç°ä»“å‚¨é‡ä¸ºã€‘:"</span> + list.size());<br><br>            list.notifyAll();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//æ¶ˆè´¹äº§å“</span><br>  	<span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">consume</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span>&#123;<br>        <span class="hljs-keyword">synchronized</span> (list)&#123;<br><br>            <span class="hljs-comment">//ä¸æ»¡è¶³æ¶ˆè´¹æ¡ä»¶</span><br>            <span class="hljs-keyword">while</span>(num &gt; list.size())&#123;<br>                System.out.println(<span class="hljs-string">"ã€è¦æ¶ˆè´¹çš„äº§å“æ•°é‡ã€‘:"</span> + num + <span class="hljs-string">"\tã€åº“å­˜é‡ã€‘:"</span><br>                        + list.size() + <span class="hljs-string">"\tæš‚æ—¶ä¸èƒ½æ‰§è¡Œç”Ÿäº§ä»»åŠ¡!"</span>);<br><br>                <span class="hljs-keyword">try</span> &#123;<br>                    list.wait();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-comment">//æ¶ˆè´¹æ¡ä»¶æ»¡è¶³ï¼Œå¼€å§‹æ¶ˆè´¹</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;num;i++)&#123;<br>                list.remove();<br>            &#125;<br><br>            System.out.println(<span class="hljs-string">"ã€å·²ç»æ¶ˆè´¹äº§å“æ•°ã€‘:"</span> + num + <span class="hljs-string">"\tã€ç°ä»“å‚¨é‡ä¸ºã€‘:"</span> + list.size());<br><br>            list.notifyAll();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ç”Ÿäº§è€…</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Producer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>&#123;<br>    <span class="hljs-comment">//æ¯æ¬¡ç”Ÿäº§çš„æ•°é‡</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> num ;<br><br>    <span class="hljs-comment">//æ‰€å±çš„ä»“åº“</span><br>    <span class="hljs-keyword">public</span> AbstractStorage abstractStorage;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Producer</span><span class="hljs-params">(AbstractStorage abstractStorage)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.abstractStorage = abstractStorage;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setNum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.num = num;<br>    &#125;<br><br>    <span class="hljs-comment">// çº¿ç¨‹runå‡½æ•°</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        produce(num);<br>    &#125;<br><br>    <span class="hljs-comment">// è°ƒç”¨ä»“åº“Storageçš„ç”Ÿäº§å‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">produce</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span><br><span class="hljs-function">    </span>&#123;<br>        abstractStorage.produce(num);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æ¶ˆè´¹è€…</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Consumer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span></span>&#123;<br>    <span class="hljs-comment">// æ¯æ¬¡æ¶ˆè´¹çš„äº§å“æ•°é‡</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> num;<br><br>    <span class="hljs-comment">// æ‰€åœ¨æ”¾ç½®çš„ä»“åº“</span><br>    <span class="hljs-keyword">private</span> AbstractStorage abstractStorage1;<br><br>    <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼Œè®¾ç½®ä»“åº“</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Consumer</span><span class="hljs-params">(AbstractStorage abstractStorage1)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">this</span>.abstractStorage1 = abstractStorage1;<br>    &#125;<br><br>    <span class="hljs-comment">// çº¿ç¨‹runå‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        consume(num);<br>    &#125;<br><br>    <span class="hljs-comment">// è°ƒç”¨ä»“åº“Storageçš„ç”Ÿäº§å‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">consume</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span><br><span class="hljs-function">    </span>&#123;<br>        abstractStorage1.consume(num);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setNum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.num = num;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">// ä»“åº“å¯¹è±¡</span><br>        AbstractStorage abstractStorage = <span class="hljs-keyword">new</span> Storage1();<br><br>        <span class="hljs-comment">// ç”Ÿäº§è€…å¯¹è±¡</span><br>        Producer p1 = <span class="hljs-keyword">new</span> Producer(abstractStorage);<br>        Producer p2 = <span class="hljs-keyword">new</span> Producer(abstractStorage);<br>        Producer p3 = <span class="hljs-keyword">new</span> Producer(abstractStorage);<br>        Producer p4 = <span class="hljs-keyword">new</span> Producer(abstractStorage);<br>        Producer p5 = <span class="hljs-keyword">new</span> Producer(abstractStorage);<br>        Producer p6 = <span class="hljs-keyword">new</span> Producer(abstractStorage);<br>        Producer p7 = <span class="hljs-keyword">new</span> Producer(abstractStorage);<br><br>        <span class="hljs-comment">// æ¶ˆè´¹è€…å¯¹è±¡</span><br>        Consumer c1 = <span class="hljs-keyword">new</span> Consumer(abstractStorage);<br>        Consumer c2 = <span class="hljs-keyword">new</span> Consumer(abstractStorage);<br>        Consumer c3 = <span class="hljs-keyword">new</span> Consumer(abstractStorage);<br><br>        <span class="hljs-comment">// è®¾ç½®ç”Ÿäº§è€…äº§å“ç”Ÿäº§æ•°é‡</span><br>        p1.setNum(<span class="hljs-number">10</span>);<br>        p2.setNum(<span class="hljs-number">10</span>);<br>        p3.setNum(<span class="hljs-number">10</span>);<br>        p4.setNum(<span class="hljs-number">10</span>);<br>        p5.setNum(<span class="hljs-number">10</span>);<br>        p6.setNum(<span class="hljs-number">10</span>);<br>        p7.setNum(<span class="hljs-number">80</span>);<br><br>        <span class="hljs-comment">// è®¾ç½®æ¶ˆè´¹è€…äº§å“æ¶ˆè´¹æ•°é‡</span><br>        c1.setNum(<span class="hljs-number">50</span>);<br>        c2.setNum(<span class="hljs-number">20</span>);<br>        c3.setNum(<span class="hljs-number">30</span>);<br><br>        <span class="hljs-comment">// çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span><br>        c1.start();<br>        c2.start();<br>        c3.start();<br><br>        p1.start();<br>        p2.start();<br>        p3.start();<br>        p4.start();<br>        p5.start();<br>        p6.start();<br>        p7.start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

</div>
        
          <div class="post-copyright">
                  <div class="copyright-item">
                      <span> ä½œè€…: wu zhuang</span>
                  </div>
                  <div class="copyright-item">
                      <span> é“¾æ¥: <a href="http://www.wuzhuang.top/2020/09/08/concurrent/producerAndConsumer/">http://www.wuzhuang.top/2020/09/08/concurrent/producerAndConsumer/</a></span>
                  </div>
                  <div class="copyright-item">
                      <span> å£°æ˜: æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨è®¸å¯åè®® <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</span>
                  </div>
          </div>
        
  </div>

  <div class="share-reward">
    <div class="share">
        
<div class="social-share" data-sites="facebook,twitter,wechat,weibo,qq"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script>


      </div>
        <div class="reward">
          
        </div>
    </div>
    
    <div class="post_tags">
      
        <i class="fas fa-tag"></i> <a href="/tags/%E5%B9%B6%E5%8F%91/" class="tag">å¹¶å‘</a>
      
        <i class="fas fa-tag"></i> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="tag">è®¾è®¡æ¨¡å¼</a>
      
    </div>
    <div class="post-nav">
      
      
        <div class="post-nav-next post-nav-item">
            <a href="/2020/09/08/concurrent/concurrent/" >åŸå­ç±»<i class="fa fa-chevron-right"></i></a>
        </div>
      
    </div>


    <div class="comments">
      
    <div class="comments">
        <script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script>
        <div id="comment" class="vcomment" ></div>
        <script>
            var notify = 'false' == true ? true : false;
            var verify = 'false' == true ? true : false;
            var GUEST_INFO = ['nick','mail','link'];
            var guest_info = 'nick,mail,link'.split(',').filter(function(item){
                return GUEST_INFO.indexOf(item) > -1
            });
            guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
            window.valine = new Valine({
                el: '.vcomment',
                notify: notify,
                verify: verify,
                appId: "",
                appKey: "",
                avatar: "mm",
                placeholder: "Just go go",
                guest_info: guest_info,
                pageSize:'10',
                recordIP: 'false',
                serverURLs: "",
                emojiCDN: "",
                enableQQ: "true",
            });
        </script>
    </div>

    </div>
</article>

    
<a id="gotop" href="javascript:" title="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up"></i></a>
<script>
    window.onscroll = function() {scrollFunction()};
    function scrollFunction() {console.log(121);
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("gotop").style.display = "block";
        } else {
            document.getElementById("gotop").style.display = "none";
        }
    }
    function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }
</script>
    






    
<div id="bottom-outer">
    <div id="bottom-inner">
        Â© 2020 <i class="fa fa-heart" id="heart"></i> wu zhuang 
        <br>
        Powered by 
        <a href="http://hexo.io" target="_blank" rel="noopener">hexo</a> | Theme is <a href="https://github.com/a2396837/hexo-theme-blank/" target="_blank" rel="noopener">blank</a>
        
          <div class="icp-info">
            
          <a href="" target="_blank"> </a>
        </div>
        
    </div>  
  </div>


<script src="https://www.layuicdn.com/layui-v2.5.6/layui.js"></script>


  
    <script src="/js/script.js"></script>
  
    <script src="/js/script2.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.3/build/highlight.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.7.0/dist/highlightjs-line-numbers.min.js"></script>
  



  <script>
      window.lazyLoadOptions = {
        elements_selector: 'img',
        threshold: 0
      }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script>



  <script>
    var images = $('img').not('.nav-logo img').not('.card img').not($('a>img')).not('.reward-content img')
    images.each(function (i, o) {
      var lazyloadSrc = $(o).attr('data-src') ? $(o).attr('data-src') : $(o).attr('src')
      $(o).wrap(`<a href="${lazyloadSrc}" data-fancybox="group" data-caption="${$(o).attr('alt')}" class="fancybox"></a>`)
    })
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script>
  <script>
        $().fancybox({
      selector: '[data-fancybox]',
      loop: true,
      transitionEffect: 'slide',
      protect: true,
      buttons: ['slideShow', 'fullScreen', 'thumbs', 'close']
    })
  </script>
  



<script>
  var btntop = $('#gotop');
  btntop.on('click', function (e) {
    e.preventDefault();
    $('html, body').animate({ scrollTop: 0 }, '300');
  });
</script>


  <script src="https://cdn.jsdelivr.net/npm/mermaid@8.6.3/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
  <script>
    $(document).ready(function () {
      $('code.hljs').each(function (i, block) {
        if ($.inArray(block.className, ['mermaid']) < 0) {
          hljs.lineNumbersBlock(block);
        }
      });
    });
    </script>
  



<script>
//reward
jQuery(document).ready(function () {
  var QRBox = $('#QRBox');
  var MainBox = $('#MainBox');
  var AliPayQR = '';
  var WeChanQR = '';

  function showQR(QR) {
    if (QR) {
      MainBox.css('background-image', 'url(' + QR + ')');
    }
    $('#donateBox').addClass('blur');
    QRBox.fadeIn(300, function (argument) {
      MainBox.addClass('showQR');
    });
  }

  $('#donateBox>li').click(function (event) {
    var thisID = $(this).attr('id');
    if (thisID === 'AliPay') {
      showQR(AliPayQR);
    } else if (thisID === 'WeChat') {
      showQR(WeChanQR);
    }
  });

  MainBox.click(function (event) {
    MainBox.removeClass('showQR').addClass('hideQR');
    setTimeout(function (a) {
      QRBox.fadeOut(300, function (argument) {
        MainBox.removeClass('hideQR');
      });
      $('#DonateText,#donateBox,#github').removeClass('blur');
    }, 600);

  });
});
</script>


<script>
  var $table = $('.content table').not($('figure.highlight > table'))
  $table.each(function () {
    $(this).wrap('<div class="table-wrap"></div>')
  })
</script>





</html>